# Number of simultaneous threads we use for make. This should be
# number_of_processors + 1, though on some systems where performance
# isn't a big issue I won't tune it.
NUMTHREADS=3

alias mj="make -j$NUMTHREADS"
alias projects="cd ~/projects && PS1='\n<projects> ' && ls --color=always"
alias ll="ls -l"
alias la="ls -a"

# At the moment I really only use three basic types of systems:
# Fedora-based, Debian-based, and Solaris-based. I will add more options
# if I need them.
if which apt-get 2&>1 > /dev/null; then
    alias get="apt-get install"
    DISTROTYPE="Debian"
else
    if which yum 2&>1 > /dev/null; then
        alias get="yum install"
        DISTROTYPE="Fedora"
    else
        if which pkg > /dev/null; then
            alias get="pkg install"
            DISTROTYPE="Solaris"
        fi
    fi
fi

function e {
    #kate -u $* &
    # All the platforms I use have Gnome, so gedit is always available.
    # Use medit if we have it (a slightly better alternative, I think)
    # fall back to gedit otherwise.
    if which medit 2&>1 > /dev/null; then
        medit $* &
    else
        # use gedit as a last resort
        gedit $* &
    fi
}

function __update_version {
    PGVERSION=$(perl ~/projects/utils/get_version.pl)
    PS1="\n<$PGPROJECT $PGVERSION> "
}

function pg {
    PGPROJECT=$1
    cd ~/projects/$1 && __update_version
    pwd
}

function up {
    if [ -e ".svn" ]; then
        svn update
        __update_version
        return
    fi
    if [ -e ".git" ]; then
        git pull
        return
    fi
}


